{"version":3,"sources":["utils.js","app.js","app.clock.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["\r\n/*\r\n    ADD LEADING ZERO TO NUMBER\r\n*/\r\n\r\nNumber.prototype.lead = function(size) {\r\n    var s = String(this);\r\n    while (s.length < (size || 2)) {s = \"0\" + s;}\r\n    return s;\r\n};\r\n\r\n","(function()\r\n{\r\n    /*\r\n        -----------------------------------------------------------------------------------------------------\r\n        GLOBAL CONFIGURATION\r\n    */\r\n\r\n    window.transitionEnd = window.transitionEnd || \"webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend\";\r\n\r\n    /*\r\n        --------------------------------------------------------------------------------------------\r\n        CREATE MAIN CLASS APP\r\n    */\r\n\r\n    Object.defineProperty (window, 'app',\r\n    {\r\n        __proto__    : null,\r\n        writable     : false,\r\n        configurable : true,\r\n        enumerable   : true,\r\n        value        :\r\n        {\r\n            getIcon : function(el)\r\n            {\r\n                var icon = el.dataset.icon;\r\n                if (icon)\r\n                {\r\n                    icon = icon.replace (/-/g, '_').toUpperCase ();\r\n                    return Skycons[icon];\r\n                }\r\n                else\r\n                    return '';\r\n            },\r\n\r\n\r\n\r\n\r\n            init : function()\r\n            {\r\n                var current_canvas = document.getElementById ('icon_current');\r\n\r\n                var week = document.getElementById('next-days');\r\n                var next_canvas_1 = document.getElementById ('icon_next_1');\r\n                var next_canvas_2 = document.getElementById ('icon_next_2');\r\n                var next_canvas_3 = document.getElementById ('icon_next_3');\r\n                var next_canvas_4 = document.getElementById ('icon_next_4');\r\n\r\n                var skycons = new Skycons({\"color\": \"white\"});\r\n                    skycons.add(\"icon_current\", window.app.getIcon(current_canvas));\r\n                    skycons.set(\"icon_next_1\", window.app.getIcon(next_canvas_1));\r\n                    skycons.set(\"icon_next_2\", window.app.getIcon(next_canvas_2));\r\n                    skycons.set(\"icon_next_3\", window.app.getIcon(next_canvas_3));\r\n                    skycons.set(\"icon_next_4\", window.app.getIcon(next_canvas_4));\r\n\r\n                    skycons.play();\r\n            },\r\n\r\n\r\n            /*\r\n                -----------------------------------------------------------------------------------------------------\r\n                RESIZE\r\n            */\r\n\r\n            resize : function()\r\n            {\r\n            },\r\n\r\n\r\n            /*\r\n                -----------------------------------------------------------------------------------------------------\r\n                SCROLL\r\n            */\r\n\r\n            scroll : function()\r\n            {\r\n            },\r\n        }\r\n    });\r\n\r\n    Object.defineProperty (app, 'extend',\r\n    {\r\n        __proto__    : null,\r\n        writable     : false,\r\n        configurable : false,\r\n        enumerable   : false,\r\n        value        : function ( name, value, target, writable, configurable, enumerable)\r\n        {\r\n            Object.defineProperty (target?target:app, name,\r\n            {\r\n                value        : value,\r\n                writable     : writable     || false,\r\n                configurable : configurable || false,\r\n                enumerable   : enumerable   || false,\r\n                __proto__    : null,\r\n            });\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\n    /*\r\n        --------------------------------------------------------------------------------------------\r\n        DEFAULT AND STATIC PROPERTIES\r\n    */\r\n    \r\n    app.extend ( '_name', 'Weather Forecast');\r\n    app.extend ( '_version', '1.0');\r\n    app.extend ( '_credits', '© Screenly Apps. © 2016 WireLoad, Inc.');\r\n\r\n\r\n    /*\r\n        -----------------------------------------------------------------------------------------------------\r\n        DOM READY\r\n    */\r\n\r\n    window.onload = window.app.init;\r\n\r\n\r\n\r\n\r\n\r\n    /*\r\n        -----------------------------------------------------------------------------------------------------\r\n        WINDOW RESIZE\r\n    */\r\n\r\n\r\n    window.onresize = window.app.resize;\r\n    window.app.resize ();\r\n\r\n\r\n})();\r\n","(function()\r\n{\r\n    /*\r\n        -----------------------------------------------------------------------------------------------------\r\n        CLOCK\r\n    */\r\n\r\n    app.extend ( 'clock', new function ()\r\n    {\r\n        /*\r\n            DOME ELEMENTS\r\n        */\r\n        \r\n        var html = document.querySelector(\"html\");\r\n        var clockDom = document.getElementById ('footer-clock');\r\n\r\n        /*\r\n            TIME\r\n        */\r\n\r\n        var nowTime         = new Date();\r\n        var nowTimeUnix     = nowTime.getTime()/1000;\r\n        var sunsetTimeUnix  = parseFloat ( html.getAttribute('data-sunset') );\r\n        var sunriseTimeUnix = parseFloat ( html.getAttribute('data-sunrise') );\r\n\r\n\r\n\r\n\r\n\r\n        /*\r\n            -----------------------------------------------------------------------------------------------------\r\n            INIT\r\n        */\r\n\r\n        this.init = function()\r\n        {\r\n            window.app.clock.checkTime ();\r\n            setInterval (window.app.clock.checkTime, 20000);\r\n        };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        /*\r\n            -----------------------------------------------------------------------------------------------------\r\n            ADD MINUTES TO UNIX TIME\r\n        */\r\n\r\n        this.unixtimeToDate = function (unix)\r\n        {\r\n        \tif (!unix)\r\n        \t\treturn 0;\r\n\r\n        \treturn new Date ( unix * 1000 );\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        /*\r\n            -----------------------------------------------------------------------------------------------------\r\n            ADD MINUTES TO UNIX TIME\r\n        */\r\n\r\n        this.unixtimeAddMinutes = function (unix, min)\r\n        {\r\n        \tif (!unix)\r\n        \t\treturn 0;\r\n        \t\r\n        \tif (!min || min<0)\r\n        \t\tmin = 0;\r\n\r\n        \tvar date = window.app.clock.unixtimeToDate(unix);\r\n        \t\tdate.setMinutes(date.getMinutes() + min);\r\n        \treturn date.getTime()/1000;\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        /*\r\n            -----------------------------------------------------------------------------------------------------\r\n            ADD MINUTES TO UNIX TIME\r\n        */\r\n\r\n        this.unixtimeSubtractMinutes = function (unix, min)\r\n        {\r\n        \tif (!unix)\r\n        \t\treturn 0;\r\n        \t\r\n        \tif (!min || min<0)\r\n        \t\tmin = 0;\r\n\r\n        \tvar date = window.app.clock.unixtimeToDate(unix);\r\n        \t\tdate.setMinutes(date.getMinutes() - min);\r\n        \treturn date.getTime()/1000;\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        /*\r\n            -----------------------------------------------------------------------------------------------------\r\n            TIME INTERVALL\r\n        */\r\n\r\n        this.checkTime = function (i)\r\n        {\r\n            /*\r\n                CLOCK\r\n            */\r\n\r\n            nowTime = new Date();\r\n            nowTimeUnix = nowTime.getTime()/1000;\r\n            clockDom.innerHTML = nowTime.getHours() + ':' + (nowTime.getMinutes()).lead();\r\n\r\n\r\n            /*\r\n                BACKGROUND BASED ON TIME\r\n            */\r\n\r\n            // FULL DAY\r\n            if ( nowTimeUnix > window.app.clock.unixtimeAddMinutes (sunriseTimeUnix, 4) && nowTimeUnix < window.app.clock.unixtimeSubtractMinutes (sunsetTimeUnix, 4) )\r\n            {\r\n                html.className = 'bg-day';\r\n                return true;\r\n            }\r\n\r\n            // NIGHT\r\n            if ( nowTimeUnix < sunriseTimeUnix || nowTimeUnix > sunsetTimeUnix )\r\n            {\r\n                html.className = 'bg-night';\r\n                return true;\r\n            }\r\n\r\n\r\n            // SUNRISE\r\n            if ( nowTimeUnix >= sunriseTimeUnix && nowTimeUnix < window.app.clock.unixtimeAddMinutes (sunriseTimeUnix, 4) )\r\n            {\r\n                html.className = 'bg-sunset';\r\n                return true;\r\n            }\r\n\r\n            // SUNSET\r\n            if ( nowTimeUnix >= window.app.clock.unixtimeSubtractMinutes (sunsetTimeUnix, 4) && nowTimeUnix < sunsetTimeUnix )\r\n            {\r\n                html.className = 'bg-sunset';\r\n                return true;\r\n            }\r\n        };\r\n\r\n\r\n\r\n\r\n\r\n        /*\r\n            -----------------------------------------------------------------------------------------------------\r\n            RESIZE\r\n        */\r\n\r\n        this.resize = function()\r\n        {\r\n        };\r\n\r\n\r\n\r\n\r\n        /*\r\n            -----------------------------------------------------------------------------------------------------\r\n            SCROLL\r\n        */\r\n\r\n        this.scroll = function()\r\n        {\r\n        };\r\n    });\r\n\r\n\r\n\r\n\r\n\r\n    /*\r\n        -----------------------------------------------------------------------------------------------------\r\n        DOM READY\r\n    */\r\n\r\n    // window.onload = window.app.clock.init;\r\n    window.app.clock.init();\r\n\r\n\r\n\r\n\r\n\r\n    /*\r\n        -----------------------------------------------------------------------------------------------------\r\n        WINDOW RESIZE\r\n    */\r\n\r\n\r\n    // window.onresize = window.app.clock.resize;\r\n    // window.app.clock.resize ();\r\n\r\n\r\n})();\r\n"],"sourceRoot":"/source/"}